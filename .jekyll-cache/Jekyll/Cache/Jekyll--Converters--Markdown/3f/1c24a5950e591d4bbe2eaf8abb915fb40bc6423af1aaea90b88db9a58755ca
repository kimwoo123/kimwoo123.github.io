I"<h1 id="캐시">캐시</h1>

<p>웹 캐시는 자주 쓰이는 문서의 사본을 자동으로 보관하는 HTTP 장치다. 웹 요청이 캐시에 도착했을 때, 캐시된 로컬 사본이 존재한다면, 그 문서는 원 서버가 아니라 그 캐시로부터 제공된다. 캐시는 다음과 같은 혜택을 준다.</p>

<ul>
  <li>
    <p>웹 캐시의 종류</p>

    <p>참고 자료 : <a href="https://managewp.com/blog/types-of-web-cache">https://managewp.com/blog/types-of-web-cache</a></p>

    <p>참고 자료 : <a href="https://wp-rocket.me/blog/different-types-of-caching/">https://wp-rocket.me/blog/different-types-of-caching/</a></p>
  </li>
</ul>

<h2 id="캐시의-특징캐시는-불필요한-데이터-전송을-줄여서-네트워크-요금으로-인한-비용을-줄여준다">캐시의 특징캐시는 불필요한 데이터 전송을 줄여서, 네트워크 요금으로 인한 비용을 줄여준다.</h2>

<hr />

<ul>
  <li>캐시는 네트워크 병목을 줄여준다. 대역폭을 늘리지 않고도 페이지를 빨리 불러 올 수 있게 된다.</li>
  <li>캐시는 원 서버에 대한 요청을 줄여준다. 서버는 부하를 줄일 수 있으며 더 빨리 응답할 수 있게 된다.</li>
  <li>페이지를 먼 곳에서 불러올수록 시간이 많이 걸리는데, 캐시는 거리로 인한 지연을 줄여준다.</li>
</ul>

<h3 id="캐시의-적중과-부적중">캐시의 적중과 부적중</h3>

<hr />

<p>캐시에 요청이 도착했을때, 만약 그에 대응하는 사본이 있다면 그를 이용해 요청이 처리될 수 있다. 이것을 캐시 적중(cache hit)이라고 부른다. 만약 대응하는 사본이 없다면 그냥 원 서버로 전달되기만 할 분이다. 이것을 캐시 부적중(cache miss)이라고 부른다.</p>

<ul>
  <li>
    <p>캐시 재검사</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>원 서버 콘텐츠는 변경될 수 있기 때문에, 캐시는 반드시 그들이 갖고 있는 사본이 여전히 최신인지 서버를 통해 때때로 점검해야 한다. 이러한 '신선도 검사'를 HTTP 재검사라 부른다. HTTP는 서버로부터 전체 객체를 가져오지 않고도 콘텐츠가 여전히 신선한지 빠르게 검사할 수 있는 특별한 요청을 정의했다.

캐시는 재검사가 필요할 때, 원 서버에 작은 재검사 요청을 보낸다. 콘텐츠가 변경되지 않았다면 서버는 아주 작은 304 Not Modified 응답을 보낸다. 그 사본이 여전히 유효함을 알게 된 캐시는 즉각 사본이 신선하다고 임시로 다시 표시한 뒤 그 사본을 클라이언트에 제공한다. 이를 재검사 적중 혹은 **느린 적중**이라고 부른다.
</code></pre></div>    </div>

    <p><img src="http://tlog.tammolo.com/static/4fa8cfab25534142c49632ef82876d9c/fc7c4/Untitled-7d68a7aa-ce72-47bf-94d0-cf3cbe42b83e.png" alt="http://tlog.tammolo.com/static/4fa8cfab25534142c49632ef82876d9c/fc7c4/Untitled-7d68a7aa-ce72-47bf-94d0-cf3cbe42b83e.png" /></p>

    <p>HTTP는  캐시된 객체를 재확인하기 위한 몇 가지 도구를 제공하는데 그중에 가장 많이 쓰이는 것은 If-Modified-Sinced 헤더이다. 서버에게 보내는 GET 요청에 이 헤더를 추가하면 캐시된 시간 이후에 변경된 경우에만 사본을 보내달라는 의미가 된다</p>

    <p><img src="https://mdn.mozillademos.org/files/13733/HTTPCache3.png" alt="https://mdn.mozillademos.org/files/13733/HTTPCache3.png" /></p>

    <ul>
      <li>
        <p>재검사가 적중했을 경우</p>

        <p>만약 서버 객체가 변경되지 않았다면, 서버는 클라이언트에게 작은 HTTP 304 Not Modified 응답을 보낸다.</p>
      </li>
      <li>
        <p>재검사 부적중</p>

        <p>만약 서버 객체가 캐시된 사본과 다르다면, 서버는 콘텐츠 전체와 함께 평범한 HTTP 200 OK 응답을 클라이언트에게 보낸다.</p>
      </li>
      <li>
        <p>객체 삭제</p>

        <p>만약 서버 객체가 삭제되었다면, 서버는 404 Not Found 응답을 돌려보내며, 캐시는 사본을 삭제한다.</p>
      </li>
    </ul>

    <p>적중과 부적중을 구별하는 방법은 Date헤더를 이용하는 것이다. 응답의 Date 헤더 값을 현재 시각과 비교하여, 응답의 생성일이 더 오래되었다면 클라이언트는 응답이 캐시된 것임을 알아낼 수 있다.</p>

    <p>### 캐시 <a href="http://terms.tta.or.kr/dictionary/dictionaryView.do?word_seq=170524-3">토폴로지</a></p>

    <hr />

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>캐시는 한 명의 사용자에게만 할당될 수도 있고 반대로 수천명의 사용자들 간에 공유될 수도 있다. 한 명에게만 할당된 캐시를 개인 전용 캐시라 부른다. 개인 전용 캐시는 개인만을 위한 캐시이므로, 한 명의 사용자가 자주 찾는 페이지를 담는다. 공유된 캐시는 공용 캐시라고 불린다. 공용 캐시는 사용자 집단에게 자주 쓰이는 페이지를 담는다.
</code></pre></div>    </div>

    <ul>
      <li>
        <p>개인 전용 캐시</p>

        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>개인 전용 캐시는 많은 에너지나 저장공간을 필요로 하지 않으므로, 작고 저렴할 수 있다. 웹 브라우저는 개인 전용 캐시를 내장하고 있다. 대부분의 브라우저는 자주 쓰이는 문서를 개인용 컴퓨터의 디스크와 메모리에 캐시해 놓고, 사용자가 캐시 사이즈와 설정을 수정할 수 있도록 허용한다. 캐시에 어떤 것들이 들어있는지 확인하기 위해 브라우저 안을 들여다 보는 것도 가능하다.
</code></pre></div>        </div>
      </li>
      <li>
        <p>공용 프락시 캐시</p>

        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>공용 캐시는 캐시 프락시 서버 혹은 더 흔히 프락시 캐시라고 불리는 특별한 종류의 공유된 프락시 서버다. 프락시 캐시는 로컬 캐시에서 문서를 제공하거나, 혹은 사용자의 입장에서 서버에 접근한다. 공용 캐시에는 여러 사용자가 접근하기 때문에, 불필요한 트래픽을 줄일 수 있는 더 많은 기회가 있다.
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>
:ET